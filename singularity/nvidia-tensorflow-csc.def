Bootstrap: docker
From: nvcr.io/nvidia/tensorflow:20.03-tf2-py3

%labels
Author Mats Sj√∂berg <mats.sjoberg@csc.fi>

%environment
  export PYTHONPATH=/appl/soft/ai/singularity/python-packages/nvidia-20.03-tf2-py3-csc
  export SINGULARITYENV_PREPEND_PATH=${PYTHONPATH}/bin

%post
  apt-get -y update
  apt-get -y upgrade
  apt -y install liblmdb-dev libhdf4-dev libhdf5-dev

  pip install scikit-learn pandas seaborn pillow graphviz matplotlib spyder pytest cython gensim xlwt openpyxl pydot dask xgboost tables netcdf4 imbalanced-learn lmdb mysql-connector lxml openpyxl xlrd umap-learn dask-jobqueue sox pyhdf odfpy geopandas rasterio